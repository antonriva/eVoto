
--Tablas originarias

CREATE TABLE IF NOT EXISTS Persona(id NUMBER GENERATED BY DEFAULT AS IDENTITY,nombre VARCHAR2(30) NOT NULL,apellidoPaterno VARCHAR2(30) NOT NULL, apellidoMaterno VARCHAR2(30) NOT NULL, fechaDeNacimiento DATE NOT NULL, fechaDeFin DATE, PRIMARY KEY(id));

CREATE TABLE IF NOT EXISTS Domicilio (id NUMBER GENERATED BY DEFAULT AS IDENTITY, descripcion VARCHAR2(50)  NOT NULL,	PRIMARY KEY (id));

CREATE TABLE IF NOT EXISTS Genero (id NUMBER GENERATED BY DEFAULT AS IDENTITY,	descripcion VARCHAR2(50)  NOT NULL,	PRIMARY KEY (id));

CREATE TABLE IF NOT EXISTS Email (id NUMBER GENERATED BY DEFAULT AS IDENTITY, descripcion VARCHAR2(50)  NOT NULL, PRIMARY KEY (id));

CREATE TABLE IF NOT EXISTS Elector (id NUMBER GENERATED BY DEFAULT AS IDENTITY, descripcion VARCHAR2(50)  NOT NULL,	PRIMARY KEY (id));

CREATE TABLE IF NOT EXISTS Candidato (id NUMBER GENERATED BY DEFAULT AS IDENTITY, descripcion VARCHAR2(50)  NOT NULL, PRIMARY KEY (id));

CREATE TABLE IF NOT EXISTS Partido (id NUMBER GENERATED BY DEFAULT AS IDENTITY, descripcion VARCHAR2(50)  NOT NULL, PRIMARY KEY (id));

CREATE TABLE IF NOT EXISTS Cargo (id NUMBER GENERATED BY DEFAULT AS IDENTITY,	descripcion VARCHAR2(50)  NOT NULL,	PRIMARY KEY (id));

CREATE TABLE IF NOT EXISTS Voto (id NUMBER GENERATED BY DEFAULT AS IDENTITY, descripcion VARCHAR2(50)  NOT NULL, PRIMARY KEY (id));

COMMIT;

--Tablas debiles 

CREATE TABLE IF NOT EXISTS PersonaDomicilio (idDeDomicilio NUMBER, idDePersona NUMBER, fechaDeInicio DATE NOT NULL, fechaDeFin DATE NOT NULL, PRIMARY KEY (idDeDomicilio, idDePersona),FOREIGN KEY (idDeDomicilio) REFERENCES Domicilio (id) ON DELETE CASCADE, FOREIGN KEY (idDePersona) REFERENCES Persona (id) ON DELETE CASCADE);

CREATE TABLE IF NOT EXISTS PersonaEmail (idDeEmail NUMBER, idDePersona NUMBER, fechaDeInicio DATE NOT NULL, fechaDeFin DATE NOT NULL, PRIMARY KEY (idDeEmail, idDePersona), FOREIGN KEY (idDeEmail) REFERENCES Email (id) ON DELETE CASCADE, FOREIGN KEY (idDePersona) REFERENCES Persona (id) ON DELETE CASCADE);

CREATE TABLE IF NOT EXISTS PersonaGenero (idDeGenero NUMBER, idDePersona NUMBER, fechaDeInicio DATE NOT NULL, fechaDeFin DATE NOT NULL, PRIMARY KEY (idDeGenero, idDePersona), FOREIGN KEY (idDeGenero) REFERENCES Genero (id) ON DELETE CASCADE, FOREIGN KEY (idDePersona) REFERENCES Persona (id) ON DELETE CASCADE);

CREATE TABLE IF NOT EXISTS PersonaCandidato (idDeCandidato NUMBER, idDePersona NUMBER, PRIMARY KEY (idDeCandidato, idDePersona), FOREIGN KEY (idDeCandidato) REFERENCES Candidato (id) ON DELETE CASCADE, FOREIGN KEY (idDePersona) REFERENCES Persona (id) ON DELETE CASCADE);

CREATE TABLE IF NOT EXISTS CandidatoCargo (idDeCandidato NUMBER, idDeCargo NUMBER, PRIMARY KEY (idDeCandidato, idDeCargo), FOREIGN KEY (idDeCandidato) REFERENCES Candidato (id) ON DELETE CASCADE, FOREIGN KEY (idDeCargo) REFERENCES Cargo (id) ON DELETE CASCADE);

CREATE TABLE IF NOT EXISTS CandidatoPartido (idDeCandidato NUMBER, idDePartido NUMBER, PRIMARY KEY (idDeCandidato, idDePartido), FOREIGN KEY (idDeCandidato) REFERENCES Candidato (id) ON DELETE CASCADE, FOREIGN KEY (idDePartido) REFERENCES Partido (id) ON DELETE CASCADE);

CREATE TABLE IF NOT EXISTS CandidatoElectorEsVoto (idDeCandidato NUMBER, idDeElector NUMBER, idDeVoto NUMBER, PRIMARY KEY (idDeCandidato, idDeElector, idDeVoto), FOREIGN KEY (idDeCandidato) REFERENCES Candidato (id) ON DELETE CASCADE,FOREIGN KEY (idDeElector) REFERENCES Elector (id) ON DELETE CASCADE, FOREIGN KEY (idDeVoto) REFERENCES Voto (id) ON DELETE CASCADE);

COMMIT;